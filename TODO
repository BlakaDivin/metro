create a "collapsible" variable reference so that if it is not defined,
a null string is used and an exception is not thrown. Handy way to deal
with some issues.

do lastdate with snapshots to avoid creating identical snapshot files
