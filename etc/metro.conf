# Main metro configuration file
#
# Path configuration:

[collect $[path/metro]/specs/targets/$[target].spec when target]

# General Paths
[section metro]
# valid options: ccache, replace
options: ccache

[section path]

tmp: /var/tmp/metro
metro: /usr/lib/metro
distfiles: /usr/portage/distfiles
work: $[path/tmp]/$[target/name]

[when portage/ROOT]

chroot: $[path/work]
chroot/stage: $[path/work]$[portage/ROOT]

# Mirror Paths - where to find required files and where to put created files

[section path/mirror]

: /home/mirror/linux

[when target is snapshot]

snapshot: $[]/snapshots/$[portage/name].tar.bz2

[when target/class is stage]

[collect $[path/metro]/etc/probe.conf]

source: $[]/$[source/subarch]/funtoo-$[source/subarch]-$[source/version]/$[source/name].tar.bz2 
target: $[]/$[target/subarch]/funtoo-$[target/subarch]-$[target/version]/$[target/name].tar.bz2 
control: $[]/$[target/subarch]/.control
snapshot: $[]/snapshots/$[portage/name].tar.bz2
#snapshot: $[:snapshot from when target is snapshot] 

[when target is openvz]

#source: $[:source from when target/class is stage]
source: $[]/$[source/subarch]/funtoo-$[source/subarch]-$[source/version]/$[source/name].tar.bz2 
target: $[]/openvz/$[target/subarch]/$[target/name].tar.gz

[section portage]

[when target/subarch]

profile: default/linux/$[target/arch]/2008.0

[section probe]

outfile: /usr/portage/distfiles/probe

